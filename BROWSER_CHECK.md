# Проверка HTTP/3 в Браузере

Так как сервер работает на `127.0.0.1` с самоподписанным сертификатом, браузеры требуют специальных флагов для разрешения HTTP/3 (QUIC) соединения.

## Google Chrome / Microsoft Edge (Chromium)

Самый надежный способ — запустить браузер через терминал с флагами принудительного QUIC.

**Команда для запуска:**

```bash
# Закройте все открытые окна Chrome перед запуском!

google-chrome \
  --origin-to-force-quic-on=127.0.0.1:8080 \
  --ignore-certificate-errors \
  --user-data-dir=/tmp/chrome-fpy-test \
  https://127.0.0.1:8080/
```

**Разбор флагов:**
-   `--origin-to-force-quic-on=127.0.0.1:8080`: Заставляет браузер сразу использовать QUIC для этого хоста, не дожидаясь Alt-Svc заголовка (критично для локальной разработки).
-   `--ignore-certificate-errors`: Игнорирует ошибку самоподписанного сертификата (иначе QUIC может быть заблокирован безопасностью).
-   `--user-data-dir=/tmp/...`: Создает чистый профиль, чтобы настройки основного браузера не мешали тесту.

## Как проверить успех

1.  В открывшемся окне вы должны увидеть текст ответа: `Hello world! ...`.
2.  Откройте **DevTools** (F12).
3.  Перейдите во вкладку **Network**.
4.  Обновите страницу.
5.  В колонке **Protocol** должно быть указано `h3` (или `http/3`).

---

## Firefox

1.  В адресной строке введите `about:config`.
2.  Установите `network.http.http3.enable` в `true`.
3.  Так как это localhost, Firefox может жестко блокировать самоподписанный QUIC. Рекомендуется использовать Chrome для тестов разработки.
